webpackJsonp([13],{Do9W:function(t,e,c){var n=c("oBgW");"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);c("rjj0")("3e8ffb19",n,!0,{})},R5Et:function(t,e,c){"use strict";(function(t){var n=c("Dd8w"),i=c.n(n),l=c("NYxO");e.a={name:"collect",data:function(){return{checkedArr:[],first:!0,request:!1,editBtn:!1,loading:!1,error:!1,localtion:0}},computed:i()({},Object(l.c)("login",["isLogin"]),Object(l.c)("detail",["historyArticle"]),Object(l.c)("collect",["collectArticle"])),watch:{$route:function(t,e){e.path.includes("detail")&&this.handleLocaltion("get")},editBtn:function(t){t||(this.checkedArr=[])}},methods:i()({},Object(l.d)("detail",["set_historyArticle"]),Object(l.d)("collect",["set_collectArticle"]),Object(l.b)("collect",["get_collectArticle_cache","get_collect_data","post_collect_data"]),{getCollectAjax:function(){var t=this;this.request||(this.loading=!0,this.get_collect_data().then(function(e){e&&(t.request=!0,t.set_collectArticle(e)),t.loading=!1,t.error=!1}).catch(function(e){console.log(e),t.loading=!1,t.error=!0}))},checkItem:function(e){var c=t("#"+e.id)[0];if(c.checked=!c.checked,c.checked){var n={id:e.id,datafrom:e.datafrom};this.checkedArr.push(n)}else{var i=this.checkedArr.findIndex(function(t){return t.id===e.id});i>-1&&this.checkedArr.splice(i,1)}},deleteItem:function(){var t=this;this.$msgBox.confirm("确定执行此操作?").then(function(e){t.post_collect_data(t.checkedArr);for(var c=0;c<t.checkedArr.length;c++){for(var n=t.collectArticle.length-1;n>=0;n--)t.collectArticle[n].id===t.checkedArr[c].id&&t.collectArticle.splice(n,1);for(var i=0;i<t.historyArticle.length;i++)t.historyArticle[i].id===t.checkedArr[c].id&&(t.historyArticle[i].collect="")}t.set_collectArticle(t.collectArticle),t.set_historyArticle(t.historyArticle),t.editBtn=!1,t.$toast({message:"删除成功",duration:1500})}).catch(function(t){console.log(t)})},handleLocaltion:function(e){"get"===e?this.localtion>0&&t("#collect .container").scrollTop(this.localtion):"set"===e&&(this.localtion=t("#collect .container").scrollTop())}}),beforeRouteEnter:function(t,e,c){c(function(t){t.isLogin?t.request?t.get_collectArticle_cache():t.getCollectAjax():t.first?(t.$msgBox.confirm("登录后可以同步用户数据").then(function(e){t.$router.push("/login")}).catch(function(e){console.log(e),t.get_collectArticle_cache()}),t.first=!1):t.get_collectArticle_cache()})},deactivated:function(){this.editBtn=!1,this.handleLocaltion("set")}}}).call(e,c("7t+N"))},oBgW:function(t,e,c){e=t.exports=c("FZ+f")(!1),e.push([t.i,"\n#collect {\n  width: 100%;\n  height: 100%;\n  overflow: hidden;\n  padding-bottom: 48px;\n  background: #fff;\n}\n#collect.edit {\n  padding-bottom: 88px;\n}\n#collect header .edit_btn {\n  font-size: 20px;\n  font-weight: bold;\n  line-height: 44px;\n}\n#collect header .edit_btn.disable {\n  color: #999;\n}\n#collect .content {\n  position: relative;\n}\n#collect .content .container .noData {\n  position: absolute;\n  left: 0;\n  right: 0;\n  top: 40%;\n}\n#collect .content .container .noData p {\n  width: 100%;\n  text-align: center;\n  font-size: 18px;\n  color: #999;\n}\n#collect .content .container .loadAll {\n  width: 100%;\n  text-align: center;\n  font-size: 14px;\n  height: 50px;\n  line-height: 50px;\n  color: #999;\n}\n#collect .delete {\n  position: fixed;\n  bottom: 48px;\n  left: 0;\n  right: 0;\n  z-index: 999;\n  height: 40px;\n  line-height: 40px;\n  background: #f4f5f6;\n  text-align: right;\n  padding: 0 6px;\n}\n#collect .delete.active span {\n  color: #f00;\n}\n#collect .delete .delete_btn {\n  display: inline-block;\n  height: 100%;\n  color: #999;\n  font-size: 16px;\n  text-align: center;\n}\n",""])},tXra:function(t,e,c){"use strict";function n(t){c("Do9W")}Object.defineProperty(e,"__esModule",{value:!0});var i=c("R5Et"),l=function(){var t=this,e=t.$createElement,c=t._self._c||e;return c("div",{class:{edit:t.editBtn},attrs:{id:"collect"}},[c("my-header",{directives:[{name:"goTop",rawName:"v-goTop:click",value:!0,expression:"true",arg:"click"}],attrs:{fixed:"",title:"收藏"}},[t.collectArticle.length>0?c("a",{staticClass:"edit_btn edit-white",attrs:{slot:"right"},on:{click:function(e){e.stopPropagation(),t.editBtn=!t.editBtn}},slot:"right"}):t._e()]),t._v(" "),c("div",{staticClass:"content",class:{isIOS:"ios"==t.$store.state.device},on:{click:function(e){e.stopPropagation(),t.editBtn=!1}}},[c("div",{directives:[{name:"swiper",rawName:"v-swiper:swiperRight",value:!0,expression:"true",arg:"swiperRight"}],staticClass:"container"},[c("list-item",{attrs:{itemJson:t.collectArticle,visible:t.editBtn,checkBoxMethod:t.checkItem}}),t._v(" "),t.collectArticle.length>0?t._e():c("div",{staticClass:"noData"},[c("p",[t._v("沒有文章哦，")]),t._v(" "),c("p",[t._v("赶快去收藏吧！")])]),t._v(" "),t.collectArticle.length>0?c("div",{staticClass:"loadAll"},[t._v("没有更多了")]):t._e()],1)]),t._v(" "),t.editBtn?c("div",{staticClass:"delete",class:{active:t.checkedArr.length>0}},[c("span",{staticClass:"delete_btn",on:{click:function(e){e.stopPropagation(),t.deleteItem(e)}}},[t._v("删除"),c("span",[t._v("("+t._s(t.checkedArr.length)+")")])])]):t._e(),t._v(" "),c("my-loading",{attrs:{visible:t.loading}}),t._v(" "),c("my-error",{attrs:{fixed:"",visible:t.error,method:t.getCollectAjax}})],1)},o=[],r={render:l,staticRenderFns:o},a=r,s=c("VU/8"),d=n,h=s(i.a,a,!1,d,null,null);e.default=h.exports}});