webpackJsonp([7],{ABbn:function(t,n,i){var e=i("Mkui");"string"==typeof e&&(e=[[t.i,e,""]]),e.locals&&(t.exports=e.locals);i("rjj0")("26d7319e",e,!0,{})},Mkui:function(t,n,i){var e=i("kxFB");n=t.exports=i("FZ+f")(!1),n.push([t.i,"\n#myComment .cover_bg {\n    background: url("+e(i("T0rb"))+")no-repeat center center;\n    background-size: cover;\n}\n",""])},T0rb:function(t,n,i){t.exports=i.p+"static/img/cover_bg.9393798.png"},"b+Io":function(t,n,i){"use strict";function e(t){i("m2VK"),i("ABbn")}Object.defineProperty(n,"__esModule",{value:!0});var o=i("kV7a"),a=function(){var t=this,n=t.$createElement,i=t._self._c||n;return i("transition",{attrs:{name:"fadeIn"}},[i("div",{attrs:{id:"myComment"}},[i("my-header",{directives:[{name:"goTop",rawName:"v-goTop:click",value:!0,expression:"true",arg:"click"}],class:{header_visible:t.header_visible},attrs:{fixed:"",title:t.title}},[i("a",{staticClass:"back-white",attrs:{slot:"left"},on:{click:function(n){n.stopPropagation(),t.$router.go(-1)}},slot:"left"})]),t._v(" "),i("div",{staticClass:"content"},[i("div",{directives:[{name:"swiper",rawName:"v-swiper:swiperRight",value:!0,expression:"true",arg:"swiperRight"},{name:"infinite-scroll",rawName:"v-infinite-scroll",value:t.get_myComment,expression:"get_myComment"}],staticClass:"container",attrs:{"infinite-scroll-disabled":"bottomLock","infinite-scroll-distance":"10","infinite-scroll-immediate-check":"false"}},[i("div",{staticClass:"cover_bg"}),t._v(" "),i("div",{staticClass:"user"},[i("div",{staticClass:"user_avatar"},[i("img",{attrs:{src:t.userInfo.headimgurl}})]),t._v(" "),i("div",{staticClass:"user_name"},[t._v(t._s(t.userInfo.nickname))])]),t._v(" "),i("div",{staticClass:"activity"},[t.loading?i("div",{staticClass:"spinnerLoad"},[i("mt-spinner",{attrs:{color:"#00939c"}})],1):t._e(),t._v(" "),t.error?i("div",{staticClass:"error"},[i("p",[t._v("网络出现错误")]),t._v(" "),i("mt-button",{attrs:{type:"primary"},on:{click:function(n){n.stopPropagation(),t.get_myComment(n)}}},[t._v("重试")])],1):t._e(),t._v(" "),i("ul",{staticClass:"list"},t._l(t.json,function(n,e){return i("li",{key:e},[i("div",{staticClass:"top clearfix"},[i("div",{staticClass:"portrait"},[i("img",{attrs:{src:n.headimgurl}})]),t._v(" "),i("div",{staticClass:"info"},[i("p",{staticClass:"name"},[t._v(t._s(n.nickname))]),t._v(" "),i("p",{staticClass:"time"},[t._v(t._s(n.time))])]),t._v(" "),i("div",{staticClass:"delete",on:{click:function(i){i.stopPropagation(),t.deleteComment(n)}}},[t._v("删除")])]),t._v(" "),i("div",{staticClass:"mid"},[i("div",{staticClass:"comment_text"},[t._v(t._s(n.content))]),t._v(" "),i("router-link",{attrs:{to:t.url(n.article)}},[i("div",{staticClass:"article"},[i("div",{staticClass:"news_img"},[n.article.playonlineurl?i("div",{staticClass:"playRound"},[i("div",{staticClass:"playSan"})]):t._e(),t._v(" "),i("img",{attrs:{src:n.article.titlepic}})]),t._v(" "),i("div",{staticClass:"news_title"},[i("h3",[t._v(t._s(n.article.title))])])])])],1)])})),t._v(" "),t.json.length>0?i("div",{staticClass:"bottomLoad"},[i("div",{directives:[{name:"show",rawName:"v-show",value:t.bottomLoading,expression:"bottomLoading"}],staticClass:"loading"},[t._v("加载中...")]),t._v(" "),t.bottomNoData?i("div",{staticClass:"noData"},[t._v("没有更多的内容了")]):t._e()]):t._e()])])])],1)])},s=[],r={render:a,staticRenderFns:s},m=r,l=i("VU/8"),c=e,d=l(o.a,m,!1,c,null,null);n.default=d.exports},kV7a:function(t,n,i){"use strict";(function(t){var e=i("Gu7T"),o=i.n(e),a=i("Dd8w"),s=i.n(a),r=i("NYxO");n.a={name:"myComment",data:function(){return{json:[],page:1,title:"",header_visible:!1,bottomLock:!1,bottomLoading:!1,bottomNoData:!1,loading:!0,error:!1}},computed:s()({},Object(r.c)("user",["userInfo"])),methods:s()({},Object(r.b)("detail",["post_delete_data"]),Object(r.b)("user",["get_myComment_data","post_myComment_data"]),{get_myComment:function(){var t=this;this.error=!1,0===this.json.length?this.loading=!0:(this.bottomLoading=!0,this.bottomLock=!0),this.get_myComment_data(this.page).then(function(n){if(n){var i;(i=t.json).push.apply(i,o()(n)),t.page++}else t.bottomLoading=!1,t.bottomNoData=!0;t.loading=!1,t.bottomLock=!1}).catch(function(n){console.log(n),t.loading=!1,t.error=!0})},deleteComment:function(t){var n=this;this.$msgBox.confirm("确定删除此评论?").then(function(){var i={id:t.id,datafrom:t.datafrom,remarkid:t.remarkid,comment:"del",type:"remark"};n.post_myComment_data(i).then(function(i){if(i.err){n.$toast({message:"删除成功",duration:1500});var e=n.json.findIndex(function(n){return n.remarkid===t.remarkid});n.json.splice(e,1)}else n.$toast({message:"删除失败",duration:1500})})}).catch(function(t){console.log(t),"cancel"!==t&&n.$toast({message:"删除失败",duration:1500})})},headerFixed:function(){var n=this,i=void 0,e=t("#myComment .container");e.on("scroll",function(){i&&clearTimeout(i),i=setTimeout(function(){e.scrollTop()>80?(n.header_visible=!0,n.title=n.userInfo.nickname):(n.header_visible=!1,n.title="")},10)})},handleLocaltion:function(n){if("get"===n)this.localtion>0&&t("#myComment .container").scrollTop(this.localtion);else if("set"===n){var i=t("#myComment .container").scrollTop();this.localtion=i}},url:function(t){return"/detail?classid="+t.classid+"&id="+t.id+"&datafrom="+t.datafrom}}),mounted:function(){this.headerFixed(),this.get_myComment()},activated:function(){this.handleLocaltion("get")},deactivated:function(){this.handleLocaltion("set")}}}).call(n,i("7t+N"))},m2VK:function(t,n,i){var e=i("omSs");"string"==typeof e&&(e=[[t.i,e,""]]),e.locals&&(t.exports=e.locals);i("rjj0")("856c1888",e,!0,{})},omSs:function(t,n,i){n=t.exports=i("FZ+f")(!1),n.push([t.i,"\n#myComment {\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  overflow: hidden;\n  z-index: 1000;\n  background: #fff;\n}\n#myComment header {\n  background-color: transparent;\n  -webkit-transition: all 0.2s;\n  transition: all 0.2s;\n}\n#myComment header.header_visible {\n  background-color: #00939c;\n}\n#myComment .cover_bg {\n  height: 4rem;\n}\n#myComment .content {\n  padding-top: 0;\n}\n#myComment .content .container a {\n  text-decoration: none;\n}\n#myComment .content .user {\n  position: relative;\n  padding: 0 15px;\n  background: #fff;\n  border-bottom: 1px solid #eee;\n}\n#myComment .content .user .user_avatar {\n  width: 2.5rem;\n  height: 2.5rem;\n  position: absolute;\n  left: 50%;\n  margin-left: -1.25rem;\n  top: -1.25rem;\n  overflow: hidden;\n  z-index: 555;\n  border-radius: 100%;\n}\n#myComment .content .user .user_avatar img {\n  width: 100%;\n}\n#myComment .content .user .user_name {\n  padding: 1.6rem 0 15px;\n  font-size: 16px;\n  font-weight: bold;\n  text-align: center;\n}\n#myComment .content .user .user_city {\n  font-size: 14px;\n  color: #666;\n  margin-bottom: 10px;\n  text-align: center;\n}\n#myComment .content .user .user_city i {\n  display: inline-block;\n  font-size: 16px;\n  vertical-align: middle;\n  margin-top: -2px;\n}\n#myComment .content .activity {\n  position: relative;\n}\n#myComment .content .activity .spinnerLoad {\n  margin-top: 0.5rem;\n  text-align: center;\n}\n#myComment .content .activity .spinnerLoad span {\n  display: inline-block;\n}\n#myComment .content .activity .error {\n  margin-top: 1.3rem;\n  text-align: center;\n}\n#myComment .content .activity .error p {\n  color: #aaa;\n  margin-bottom: 10px;\n  font-size: 16px;\n}\n#myComment .content .activity .error button {\n  border-radius: 5px;\n}\n#myComment .content .activity .bottomLoad {\n  margin-top: 5px;\n}\n#myComment .content .activity .list {\n  background: #eee;\n}\n#myComment .content .activity .list li {\n  margin: 5px 0;\n  padding: 16px 15px;\n  background: #fff;\n}\n#myComment .content .activity .list li .top {\n  position: relative;\n  margin-bottom: 6px;\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-align: center;\n      -ms-flex-align: center;\n          align-items: center;\n}\n#myComment .content .activity .list li .top .portrait {\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 36px;\n  height: 36px;\n  overflow: hidden;\n  border-radius: 100%;\n}\n#myComment .content .activity .list li .top .portrait img {\n  width: 100%;\n}\n#myComment .content .activity .list li .top .info {\n  -webkit-box-flex: 1;\n      -ms-flex: 1;\n          flex: 1;\n  padding-left: 46px;\n  padding-right: 5px;\n  font-size: 14px;\n  color: #000;\n  line-height: 16px;\n}\n#myComment .content .activity .list li .top .info .name {\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  margin-bottom: 6px;\n}\n#myComment .content .activity .list li .top .info .time {\n  font-size: 12px;\n  color: #999;\n}\n#myComment .content .activity .list li .top .delete {\n  font-size: 14px;\n  color: #555;\n  padding: 2px 5px;\n}\n#myComment .content .activity .list li .mid .comment_text {\n  font-size: 16px;\n}\n#myComment .content .activity .list li .mid .article {\n  margin-top: 6px;\n  font-size: 0;\n  background: #f4f5f6;\n}\n#myComment .content .activity .list li .mid .article .news_img,\n#myComment .content .activity .list li .mid .article .news_title {\n  display: inline-block;\n  vertical-align: middle;\n  overflow: hidden;\n}\n#myComment .content .activity .list li .mid .article .news_img {\n  width: 25%;\n  height: 1.96875rem;\n  position: relative;\n}\n#myComment .content .activity .list li .mid .article .news_img img {\n  width: 100%;\n  min-height: 1.96875rem;\n}\n#myComment .content .activity .list li .mid .article .news_title {\n  width: 75%;\n}\n#myComment .content .activity .list li .mid .article .news_title h3 {\n  font-size: 16px;\n  margin: 0 12px;\n  white-space: normal;\n  line-height: 21px;\n  color: #222;\n  font-weight: 400;\n  display: -webkit-box;\n  -webkit-line-clamp: 3;\n  text-overflow: ellipsis;\n  -webkit-box-orient: vertical;\n  overflow: hidden;\n}\n#myComment .content .activity .list li .mid .article .playRound {\n  position: absolute;\n  width: 30px;\n  height: 30px;\n  left: 50%;\n  top: 50%;\n  margin-left: -15px;\n  margin-top: -15px;\n  border-radius: 50%;\n  background: rgba(0,0,0,0.6);\n  z-index: 222;\n}\n#myComment .content .activity .list li .mid .article .playSan {\n  position: absolute;\n  width: 0;\n  height: 0;\n  font-size: 0;\n  border: 8px solid #fff;\n  border-color: transparent transparent transparent rgba(255,255,255,0.8);\n  left: 50%;\n  top: 50%;\n  margin-left: -2px;\n  margin-top: -8px;\n}\n",""])}});