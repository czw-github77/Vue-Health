webpackJsonp([6],{"1pAy":function(t,n,e){"use strict";(function(t){var i=e("Dd8w"),a=e.n(i),o=e("NYxO"),s=e("x/hr");n.a={name:"login",data:function(){return{GPSLocation:{}}},methods:a()({},Object(o.d)(["set_userid"]),Object(o.d)("login",["set_isLogin"]),Object(o.d)("user",["set_userInfo"]),Object(o.b)("login",["get_userPower_data"]),{login:function(n){var e=this;if(1===n){document.addEventListener("deviceready",function(){function n(n){var i=n.code;t.ajax({type:"GET",url:"https://api.weixin.qq.com/sns/oauth2/access_token?appid=wxab47f0260fabea40&secret=24950a2a032720541e0e952954dd6248&code="+i+"&grant_type=authorization_code"}).then(function(n){var i=JSON.parse(n);console.log("data1:",i);var a=i.refresh_token;t.ajax({type:"GET",url:"https://api.weixin.qq.com/sns/oauth2/refresh_token?appid=wxab47f0260fabea40&grant_type=refresh_token&refresh_token="+a}).then(function(n){var i=JSON.parse(n);console.log("data2:",i);var a=i.access_token,o=i.openid;t.ajax({type:"GET",url:"https://api.weixin.qq.com/sns/userinfo?access_token="+a+"&openid="+o}).then(function(n){var i=JSON.parse(n);console.log("data3:",i),e.set_isLogin("wx"),e.set_userInfo(i),e.set_userid(i.unionid),e.get_userPower_data(i.unionid),e.$router.go(-1),t.ajax({type:"GET",data:i,url:"http://app.toutiaojk.com/e/extend/list/appuser.php"})},function(){Toast({message:"登录失败",duration:2e3})})},function(){Toast({message:"登录失败",duration:2e3})})},function(){Toast({message:"登录失败",duration:2e3})})}function i(){Toast({message:"授权失败",duration:2e3})}cordova.exec(n,i,"Wechat","sendAuthRequest",["snsapi_userinfo"])},!1)}else this.$toast({message:"暂不支持QQ登录",duration:2e3})},get_location:function(){if("ios"===this.$store.state.device){var t=Object(s.c)();this.GPSLocation=t.coords,console.log("IOS定位",this.GPSLocation)}else this.GPSLocation=Object(s.b)(),console.log("安卓定位",this.GPSLocation)}}),mounted:function(){this.get_location()}}}).call(n,e("7t+N"))},"7ck0":function(t,n,e){t.exports=e.p+"static/img/qqlogin.92ba04c.png"},"8e87":function(t,n,e){t.exports=e.p+"static/img/wxlogin.7eb8171.png"},QrVH:function(t,n,e){"use strict";function i(t){e("ygwp")}Object.defineProperty(n,"__esModule",{value:!0});var a=e("1pAy"),o=function(){var t=this,n=t.$createElement,i=t._self._c||n;return i("div",{attrs:{id:"login"}},[i("my-header",{attrs:{fixed:"",title:"登录"}},[i("a",{staticClass:"back-white",attrs:{slot:"left"},on:{click:function(n){t.$router.go(-1)}},slot:"left"})]),t._v(" "),i("div",{staticClass:"content",class:{isIOS:"ios"==t.$store.state.device}},[i("div",{staticClass:"container"},[i("div",{staticClass:"wrapper"},[t._m(0),t._v(" "),t._m(1),t._v(" "),i("ul",{staticClass:"loginList"},[i("li",{staticClass:"list-item",on:{click:function(n){n.stopPropagation(),t.login(0)}}},[i("img",{attrs:{src:e("7ck0")}})]),t._v(" "),i("li",{staticClass:"list-item",on:{click:function(n){n.stopPropagation(),t.login(1)}}},[i("img",{attrs:{src:e("8e87")}})])])])])])],1)},s=[function(){var t=this,n=t.$createElement,i=t._self._c||n;return i("div",{staticClass:"defaultImg"},[i("img",{attrs:{src:e("gPYd")}})])},function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"defaultTip"},[e("span",[t._v("请选择登录方式")])])}],r={render:o,staticRenderFns:s},c=r,l=e("VU/8"),p=i,d=l(a.a,c,!1,p,null,null);n.default=d.exports},gPYd:function(t,n,e){t.exports=e.p+"static/img/members.1002f74.png"},w1tp:function(t,n,e){n=t.exports=e("FZ+f")(!1),n.push([t.i,"\n#login {\n  position: relative;\n  width: 100%;\n  height: 100%;\n  overflow: hidden;\n}\n#login .wrapper {\n  position: absolute;\n  width: 100%;\n  top: 50%;\n  -webkit-transform: translateY(-50%);\n          transform: translateY(-50%);\n}\n#login .defaultImg {\n  text-align: center;\n  width: 100%;\n  margin-bottom: 0.53rem;\n}\n#login .defaultImg img {\n  width: 2.4rem;\n  height: 2.4rem;\n}\n#login .defaultTip {\n  margin: 0 auto;\n  width: 50%;\n  text-align: center;\n}\n#login .defaultTip span {\n  position: relative;\n  display: inline-block;\n  vertical-align: middle;\n  font-size: 0.32rem;\n  color: #a9a9a9;\n  letter-spacing: 5px;\n  height: 0.8rem;\n  line-height: 0.8rem;\n}\n#login .defaultTip span:before {\n  content: '';\n  position: absolute;\n  width: 25%;\n  top: 50%;\n  left: -50%;\n  -webkit-transform: translateY(-50%);\n          transform: translateY(-50%);\n  border-top: 1px solid #a9a9a9;\n}\n#login .defaultTip span:after {\n  content: '';\n  position: absolute;\n  width: 25%;\n  top: 50%;\n  right: -50%;\n  -webkit-transform: translateY(-50%);\n          transform: translateY(-50%);\n  border-top: 1px solid #a9a9a9;\n}\n#login .loginList .list-item {\n  margin-top: 0.4rem;\n  text-align: center;\n}\n#login .loginList .list-item img {\n  width: 5.5rem;\n  height: 1.28rem;\n}\n",""])},ygwp:function(t,n,e){var i=e("w1tp");"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);e("rjj0")("21eaabda",i,!0,{})}});